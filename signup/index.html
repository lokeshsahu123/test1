<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Form</title>
	<link rel="stylesheet" type="text/css" href="formstyle1.css">
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<style> .hidden{ display: none; }
  .w-100.img-flex {
  display: flex;
  justify-content: space-around;
  align-items: center;
}
  .formFull {
  height: 100vh;
}
.submit {
  outline: none;
  box-shadow: none !important;
  border: 0 !important;
}
.formFull {
  flex-wrap: wrap;
}
.footer-info {
  font-size: 13px;
}
.back {
  position: absolute;
  top: 10px;
  left: 15px;
}
.back button {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 0;
  position: relative;
  outline: none !important;
}
.back button::before {
  content: "";
  display: block;
  width: 8px;
  height: 8px;
  border: 2px solid #141f32;
  border-left: 0;
  border-top: 0;
  transform: rotate(127deg);
  position: absolute;
  left: 2px;
  right: 0;
  margin: 0px auto;
  top: 15px;
}

.loader {
    border: 20px solid #f3f3f3;
    position: absolute;
    border-radius: 50%;
    border-top: 20px solid #ff9700;
    width: 90px;
    height: 90px;
    -webkit-animation: spin 2s linear infinite;
    animation: spin 1.5s linear infinite;
}

/* Safari */
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}



</style>
</head>
<body>

<div class="formFull" style="position: relative;">
  <div class="loader"></div>
 

<div class="back" style="display:none;">
  <button id="back" onClick="window.location.reload();" style="font-size: 0;">Back</button>
</div>
<!-- 
  <div class="overly" style="display: none;"></div> -->
	<div class="w-100 numberSection">
		<div class="w-100">
			<img src="footerlogo1.png" />
		</div>
		<div class="w-100">
			<h2 style="margin: 15px 0;">Welcome to Evon Game</h2>
		</div>
		<div class="validationText33" style="color: red;font-size: 12px;"></div>
		<div class="w-100">
			<input type="number" name="number" placeholder="Enter mobile number" id="mobile">
			<input type="hidden" id="mobile_UserID" val="">
			<input type="hidden" id="inputEmail" name="login_username" autofocus autocomplete="off">
			<input type="hidden" id="inputPassword" name="login_password" autocomplete="off">
      <input type="hidden" id="agent_username" name="agent_username">
		</div>
		<div class="w-100">
			<button class="submit" id="sendotp">
			<svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg>
			</button>
		</div>
	</div>

	<div class="w-100 verifySection" style="display:none;">
    <div class="w-100">
      <img src="footerlogo1.png" style="margin-bottom: 30px;" />
    </div>
		<div class="w-100">
			<h3>Enter OTP</h3>

			<p class="mobno_show"></p>
		</div>
		<div class="userInput">
			<input type="text" id='ist' maxlength="6" style="width: 100%;margin: 0;">
			<!-- <input type="text" id="sec" maxlength="1" onkeyup="clickEvent(this,'third')">
			<input type="text" id="third" maxlength="1" onkeyup="clickEvent(this,'fourth')">
			<input type="text" id="fourth" maxlength="1" onkeyup="clickEvent(this,'fifth')">
			<input type="text" id="fifth" maxlength="1" onkeyup="clickEvent(this,'six')">
			<input type="text" id="six" maxlength="1"> -->
		</div>
		<div class="w-100">
			<p class="resendotp">Resend OTP in 30 sec</p>
			<p class="resend" id="resendotp" style="cursor:pointer">Resend</p>
			
		</div>
		<div class="w-100">
			<button class="verify" id="verifynow">Verify</button>
		</div>
	</div>

	<div class="w-100 congratulation" style="display:none">
    <div class="w-100">
      <img src="footerlogo1.png" />
    </div>
		<div class="w-100">
		
    <p style="font-weight: bold;color: #ff9700;">Download and Start Playing</p>
		</div>
		<div class="w-100">
			<a href="" id="filedownload" style="margin-top: 50px;" class="verify">Download & Play</a>
		</div>
	</div>

  <div class="w-100">
    <p class="footer-info"><span style="color:#ff9700;">Note:</span> Please verify the same number which is already registered with us.</p>
  </div>


</div>




<!-- <script>
	$("#sendotp").click(function(){
		alert("text");

		$(".verifySection").show();
		$(".numberSection").hide();
	});
	$("#verifynow").click(function(){
		$(".verifySection").hide();
		$(".numberSection").hide();
		$(".congratulation").show();
	});

</script> -->

<!-- <script>
	function clickEvent(first,last){
			if(first.value.length){
				document.getElementById(last).focus();
			}
		}


</script> -->

<script type="text/javascript">
    
    $(document).ready(function(){
  
      $('#agent_username').val(getUrlParameter('redirect'));


    });

var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
    return false;
};

</script>

<script>
  $('#sendotp,#resendotp').click(function(){
    $('.overly').show();
  	
       // clearvalidations();
      // $("#sendotp").attr('disabled', true);
      var clickonbtn = $(this);
      var username       =   $("#mobile").val();
      var device_type = "web";
      var browser_type = getmybrower();
      var longitude = "7.25412";
      var latitude = "2.1258";
      var imeino  ="gfergergryg43785t34r";
      var client_id = "133";
      var version_no = '100';
      var agentusername = $("#agent_username").val();
        if(username == '0' || username==''){
        //alertify.error('Please Enter Mobile Number');
        return false;
        }
    

    var api_url="https://api.bopanel.xyz/index.php/Web_service/common_login";
    //alert(api_url);
      var passwd='';
        $(".resend").addClass("hidden");
        $(".loader").show();
      $.ajax({
                  url: api_url,
                  method: 'post',
                  data: {
                          username:username,
                          client_id:client_id,
                          device_type:device_type,
                          browser_type:browser_type,
                          longitude:longitude,
                          latitude:latitude,
                          imeino:imeino,
                          version_no:version_no,
                          device_id:'',
                          agent_id:agentusername,
                        },
                  dataType: 'JSON',
                  cache: false,

                  success: function(data){
           // console.log(data);
            $(".loader").hide();
                        var result=data;
                        // console.log(result.user_pass);
                           passwd=result.user_pass;
                         

                            if(result.status==0)
                            {
                              //alertify.error(result.msg)
                            }
                            else
                            {
                            	$(".mobno_show").html("OTP sent to "+username)
                                $(".verifySection").show();
                                $(".back").show();
                                $(".overly").hide();
								$(".numberSection").hide();
                              var left_time = 120;
                            if(clickonbtn.attr('name') != 'no_otp'){
                              clickonbtn.closest('.row_margin').find('.hideandshow').removeClass('hidden');
                              timeinerval=setInterval(function() {
                                left_time = left_time < 10 ? '0'+left_time: left_time;
                                //clickonbtn.html("&ensp;&emsp;"+left_time+"&emsp;&ensp;");resendotp
                                 $(".resendotp").html('Resend OTP in '+left_time+' secs');
                                left_time = parseInt(left_time)-1;
                                if(left_time == 0)
                                {  
                                    $("#sendotp").attr('disabled', false);
                                     $(".resendotp").html('');
                                       $(".resend").removeClass("hidden");
                                 //  clickonbtn.css('font-size','12px');
                                   clickonbtn.removeAttr('disabled', 'disabled');
                                   $('#sendotp').removeAttr('disabled', 'disabled');
                                   clearInterval(timeinerval);

                                   // clickonbtn.html('Resend <br> OTP');
                                   // clickonbtn.css('font-size','12px');
                                   // clickonbtn.removeAttr('disabled', 'disabled');
                                   // $('#sendotp').removeAttr('disabled', 'disabled');
                                   // clearInterval(timeinerval);
                                }
                              }, 1000);
                              }
                               $('#login_sign_up').removeAttr('disabled', 'disabled');
                            $('#mobile_UserID').val(result.user_id);
                            }
                            
                  }
              });
   
    
    
    
   });
   function getmybrower() { 
        if((navigator.userAgent.indexOf("Opera") || navigator.userAgent.indexOf('OPR')) != -1 ){
            return "Opera"
        }
        else if(navigator.userAgent.indexOf("Chrome") != -1 ){
            return 'Chrome';
        }
        else if(navigator.userAgent.indexOf("Safari") != -1){
            return 'Safari';
        }
        else if(navigator.userAgent.indexOf("Firefox") != -1 ){
             return 'Firefox';
        }
        else if((navigator.userAgent.indexOf("MSIE") != -1 ) || (!!document.documentMode == true )){
          return 'IE'; 
        }  
        else{
           return 'unknown';
        }
    }

 $('#verifynow').click(function(){
//$(".loader").css("display","block");
     
 })
    
      
    $('#verifynow').click(function(){

    
      var username       = $("#mobile").val();
      var client_id        = "133";
      var device_type = "web";
      var phone_number = $("#mobile").val();
      var browser_type = getmybrower();
      var longitude = "7.25412";
      var latitude = "2.1258";
      var imeino  ="gfergergryg43785t34r";
      var version_no = '100';
      var device_id = "";
		var ist_otp = $('#ist').val();


		var otp =ist_otp;
      //var otp = $("#login_mobileotpbox").val();
      var user_id = $("#mobile_UserID").val();

      if(otp=='')
      {
      // alerti fy.error('Please Enter Otp');
        return false;
      }
      $(".loader").show();
      $('#verifynow').attr('disabled', 'disabled');
     
  
    var api_url="https://api.bopanel.xyz/index.php/Web_service/confirmotp_v3";
	// $('#submit_MobileOtp').attr('disabled', 'disabled');
      //$(".validationText3").text("").hide();
     
     $.ajax({
                  url: api_url,
                  method: 'post',
                  data: {
                    username:username,
                    client_id:client_id,
                    device_type:device_type,
                    phone_number:phone_number,
                    browser_type:browser_type,
                    longitude:longitude,
                    latitude:latitude,
                    imeino:imeino,
                    version_no:version_no,
                    device_id:device_id,
                    otp:otp,
                    user_id:user_id,
                  },
                  dataType: 'JSON',
                  cache: false,
                 

                  success: function(data){
                     $(".loader").hide();
                
                  	$('#verifynow').removeAttr('disabled', 'disabled');
                        var result=data;
                        console.log(result);
                        if(result.status=="1"){
                         

                            downloadFile()

                        
                                var token = result.data.token;
                                
                              // setTimeout(function() {
                                    
                              //       loginafersignup_v1(username,'',token);
                                   
                              // }, 2000);
								$(".verifySection").hide();
                $(".back").hide();
								$(".numberSection").hide();
								$(".congratulation").show();
                $(".footer-info").hide();
                            //  alertify.success('Login Successful'); 

                              
                        }else{
            
            $('.data-get input[name="login_username"]').val('');
            $('.data-get input[name="login_password"]').val('');
                           
                // $('.alert-danger1').append(result.msg);
              //  alertify.error(result.msg);
              setTimeout(function() {
                                    $('.alert-danger1').hide();
                                    
                              }, 1500);
                
              
                        }
                  },
                  error: function(data){

                      var errors = data.responseJSON.errors;
                    //  console.log(errors);

                      $.each(errors, function(key, value){

                        $('.alert-danger1').show();
                        $('.alert-danger1').append('<p>'+value+'</p>');
                      });
                  }

                  });
     
      
    
    
    
   });

            $( document ).ready(function() {
              
        $(".loader").hide();
    });
        var BASE_URL = 'https://api.bopanel.xyz/index.php/Web_service/';

    function downloadFile(){
        var client_id        = "133";
          var formData = new FormData();
          formData.append('device_type','android');
          formData.append('client_id',client_id);
          var api_url1=BASE_URL+"getversion";
        $.ajax({
            url:api_url1,
            method:"post",
            data: formData,
            dataType: 'JSON',
            processData: false,
            contentType: false,

            success: function(data){
                
                var result=data;
                if(result.status==1){



                // filedownload(result.app_link,'App');

                 $("#filedownload").attr("href",result.app_link);
                 $("#filedownload2").attr("href",result.app_link);
                 console.log(result.app_link);
                }
              }
        });
    }
    

 </script>


</body>
</html></h1>